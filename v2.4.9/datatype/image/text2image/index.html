<!DOCTYPE html>
<html class="no-js" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="light dark" name="color-scheme"/>
  <meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
  <meta content="Search Image from Text via CLIP model" property="og:title"/>
  <meta content="website" property="og:type">
   <meta content="https://docs.jina.ai/datatype/image/text2image.html" property="og:url"/>
   <meta content="Jina 2.4.9 Documentation" property="og:site_name"/>
   <meta content="In this tutorial, we will create an image search system that retrieves images based on short text descriptions as query. The interest behind this is that in regular search, image description or meta data describing the content of the image needs to be indexed first before retrieving the images vi..." property="og:description"/>
   <meta content="https://docs.jina.ai/_static/banner.png" property="og:image"/>
   <meta content="Jina 2.4.9 Documentation" property="og:image:alt"/>
   <meta content="summary_large_image" name="twitter:card"/>
   <meta content="@JinaAI_" name="twitter:site"/>
   <meta content="@JinaAI_" name="twitter:creator"/>
   <meta content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning" name="description"/>
   <meta content="Jina is the cloud-native neural search solution powered by the state-of-the-art AI and deep learning" property="og:description"/>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-48ZDWC8GT6">
   </script>
   <script>
    window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48ZDWC8GT6');
   </script>
   <script async="" defer="" src="https://buttons.github.io/buttons.js">
   </script>
   <link href="../../../genindex/" rel="index" title="Index"/>
   <link href="../../../search/" rel="search" title="Search"/>
   <link href="../small-images-inside-big-images/" rel="next" title="Find Small Images Inside Large Images"/>
   <link href="../image2image/" rel="prev" title="Search Similar Images"/>
   <link href="../../../_static/favicon.ico" rel="shortcut icon"/>
   <meta content="sphinx-4.3.1, furo 2021.10.09" name="generator"/>
   <title>
    Search Image from Text via CLIP model - Jina 2.4.9 documentation
   </title>
   <link href="../../../_static/pygments.css" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/styles/furo.css?digest=0254c309f5cadf746f1a613e7677379ac9c8cdcd" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/copybutton.css" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/tabs.css" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/main.css" rel="stylesheet" type="text/css"/>
   <link href="../../../_static/docbot.css" rel="stylesheet" type="text/css"/>
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" rel="stylesheet" type="text/css"/>
   <style>
    body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
  }
   </style>
  </meta>
 </head>
 <body>
  <script>
   document.body.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
   <symbol id="svg-toc" viewbox="0 0 24 24">
    <title>
     Contents
    </title>
    <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <path d="M0 0h24v24H0z" stroke="none">
     </path>
     <line x1="4" x2="20" y1="6" y2="6">
     </line>
     <line x1="10" x2="20" y1="12" y2="12">
     </line>
     <line x1="6" x2="20" y1="18" y2="18">
     </line>
    </svg>
   </symbol>
   <symbol id="svg-menu" viewbox="0 0 24 24">
    <title>
     Menu
    </title>
    <svg class="feather-menu" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <line x1="3" x2="21" y1="12" y2="12">
     </line>
     <line x1="3" x2="21" y1="6" y2="6">
     </line>
     <line x1="3" x2="21" y1="18" y2="18">
     </line>
    </svg>
   </symbol>
   <symbol id="svg-arrow-right" viewbox="0 0 24 24">
    <title>
     Expand
    </title>
    <svg class="feather-chevron-right" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <polyline points="9 18 15 12 9 6">
     </polyline>
    </svg>
   </symbol>
   <symbol id="svg-sun" viewbox="0 0 24 24">
    <title>
     Light mode
    </title>
    <svg class="feather-sun" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <circle cx="12" cy="12" r="5">
     </circle>
     <line x1="12" x2="12" y1="1" y2="3">
     </line>
     <line x1="12" x2="12" y1="21" y2="23">
     </line>
     <line x1="4.22" x2="5.64" y1="4.22" y2="5.64">
     </line>
     <line x1="18.36" x2="19.78" y1="18.36" y2="19.78">
     </line>
     <line x1="1" x2="3" y1="12" y2="12">
     </line>
     <line x1="21" x2="23" y1="12" y2="12">
     </line>
     <line x1="4.22" x2="5.64" y1="19.78" y2="18.36">
     </line>
     <line x1="18.36" x2="19.78" y1="5.64" y2="4.22">
     </line>
    </svg>
   </symbol>
   <symbol id="svg-moon" viewbox="0 0 24 24">
    <title>
     Dark mode
    </title>
    <svg class="icon-tabler-moon" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <path d="M0 0h24v24H0z" fill="none" stroke="none">
     </path>
     <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z">
     </path>
    </svg>
   </symbol>
   <symbol id="svg-sun-half" viewbox="0 0 24 24">
    <title>
     Auto light/dark mode
    </title>
    <svg class="icon-tabler-shadow" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
     <path d="M0 0h24v24H0z" fill="none" stroke="none">
     </path>
     <circle cx="12" cy="12" r="9">
     </circle>
     <path d="M13 12h5">
     </path>
     <path d="M13 15h4">
     </path>
     <path d="M13 18h1">
     </path>
     <path d="M13 9h4">
     </path>
     <path d="M13 6h1">
     </path>
    </svg>
   </symbol>
  </svg>
  <input class="sidebar-toggle" id="__navigation" name="__navigation" type="checkbox"/>
  <input class="sidebar-toggle" id="__toc" name="__toc" type="checkbox"/>
  <label class="overlay sidebar-overlay" for="__navigation">
   <div class="visually-hidden">
    Hide navigation sidebar
   </div>
  </label>
  <label class="overlay toc-overlay" for="__toc">
   <div class="visually-hidden">
    Hide table of contents sidebar
   </div>
  </label>
  <div class="page">
   <header class="mobile-header" id="mobile-header">
    <div class="header-left">
     <label class="nav-overlay-icon" for="__navigation">
      <div class="visually-hidden">
       Toggle site navigation sidebar
      </div>
      <i class="icon">
       <svg>
        <use href="#svg-menu">
        </use>
       </svg>
      </i>
     </label>
    </div>
    <div class="header-center">
     <a href="../../../">
      <div class="brand">
       Jina 2.4.9 documentation
      </div>
     </a>
    </div>
    <div class="header-right">
     <div class="theme-toggle-container theme-toggle-header">
      <button class="theme-toggle">
       <div class="visually-hidden">
        Toggle Light / Dark / Auto color theme
       </div>
       <svg class="theme-icon-when-auto">
        <use href="#svg-sun-half">
        </use>
       </svg>
       <svg class="theme-icon-when-dark">
        <use href="#svg-moon">
        </use>
       </svg>
       <svg class="theme-icon-when-light">
        <use href="#svg-sun">
        </use>
       </svg>
      </button>
     </div>
     <label class="toc-overlay-icon toc-header-icon" for="__toc">
      <div class="visually-hidden">
       Toggle table of contents sidebar
      </div>
      <i class="icon">
       <svg>
        <use href="#svg-toc">
        </use>
       </svg>
      </i>
     </label>
    </div>
   </header>
   <aside class="sidebar-drawer" id="sidebar-drawer">
    <div class="sidebar-container">
     <div class="sidebar-sticky">
      <a class="sidebar-brand" href="../../../">
       <div class="sidebar-logo-container">
        <img alt="Light Logo" class="sidebar-logo only-light" src="../../../_static/logo-light.svg"/>
        <img alt="Dark Logo" class="sidebar-logo only-dark" src="../../../_static/logo-dark.svg"/>
       </div>
       <div class="sd-text-center">
        <a aria-label="Star jina-ai/jina on GitHub" class="github-button" data-icon="octicon-star" data-show-count="true" href="https://github.com/jina-ai/jina">
         Star
        </a>
        <select class="version-select" onchange="window.location.href=this.value">
         <option value="../../../../master/datatype/image/text2image/">
          master
         </option>         <option value="../../../../datatype/image/text2image/">
          latest(v2.5.0)
         </option>         <option value="../../../../v2.4.10/datatype/image/text2image/">
          v2.4.10
         </option>         <option selected="selected" value="v2.4.9/datatype/image/text2image/">
          v2.4.9
         </option>
        </select>
       </div>
       <div class="sd-text-center">
        <select id="versions" onchange="window.location.href=this.value">
        </select>
       </div>
      </a>
      <form action="../../../search/" class="sidebar-search-container" method="get" role="search">
       <input aria-label="Search" class="sidebar-search" name="q" placeholder="Search"/>
       <input name="check_keywords" type="hidden" value="yes"/>
       <input name="area" type="hidden" value="default"/>
      </form>
      <div id="searchbox">
      </div>
      <div class="sidebar-scroll">
       <div class="sidebar-tree">
        <p class="caption" role="heading">
         <span class="caption-text">
          Get started
         </span>
        </p>
        <ul>
         <li class="toctree-l1">
          <a class="reference internal" href="../../../get-started/neural-search/">
           What is Neural Search?
          </a>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../get-started/install/">
           Install
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-1">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/experimental/windows/">
             Jina on Windows
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../get-started/install/troubleshooting/">
             Troubleshooting
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../get-started/hello-world/">
           Run Quick Demos
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-2">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../get-started/hello-world/fashion/">
             Fashion image search
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../get-started/hello-world/covid-19-chatbot/">
             Covid-19 chatbot
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../get-started/hello-world/multimodal/">
             Multimodal search
            </a>
           </li>
          </ul>
         </li>
        </ul>
        <p class="caption" role="heading">
         <span class="caption-text">
          Fundamentals
         </span>
        </p>
        <ul>
         <li class="toctree-l1">
          <a class="reference internal" href="../../../fundamentals/concepts/">
           Basic Concepts
          </a>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../fundamentals/document/">
           Document
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-3">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../fundamentals/document/document-api/">
             Document
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-4">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../fundamentals/document/fluent-interface/">
               Fluent Interface
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../fundamentals/document/documentarray/">
             DocumentArray
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-5">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../fundamentals/document/documentarraymemmap-api/">
               DocumentArrayMemmap
              </a>
             </li>
            </ul>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../fundamentals/executor/">
           Executor
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-6">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/executor/executor-api/">
             Create Executor
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/executor/executor-built-in-features/">
             Executor Features
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/executor/executors-in-action/">
             Executor in Action
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/executor/repository-structure/">
             Executor File Structure
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/gpu-executor/">
             Run Executors on GPU
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../fundamentals/flow/">
           Flow
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-7">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/flow-api/">
             Create Flow
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/send-recv/">
             Flow IO
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/add-exec-to-flow/">
             Add Executor
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/topology/">
             Distributed &amp; Parallel Execution
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/async-flow/">
             Asynchronous Flow
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/flow-as-a-service/">
             Serving Flow
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../fundamentals/flow/remarks/">
             Remarks
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1">
          <a class="reference internal" href="../../../fundamentals/clean-code/">
           Clean &amp; Efficient Code
          </a>
         </li>
        </ul>
        <p class="caption" role="heading">
         <span class="caption-text">
          Data Types
         </span>
        </p>
        <ul class="current">
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../text/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-typography" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z" fill-rule="evenodd">
            </path>
           </svg>
           Text
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-8">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/fuzzy-grep/">
             Fuzzy String Matching in 30 Lines
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../text/full-text-search/">
             Full Text Search via Feature Hashing
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/chatbot/">
             Question-Answering Chatbot via Transformer
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 current has-children">
          <a class="reference internal" href="../">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-image" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M1.75 2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h.94a.76.76 0 01.03-.03l6.077-6.078a1.75 1.75 0 012.412-.06L14.5 10.31V2.75a.25.25 0 00-.25-.25H1.75zm12.5 11H4.81l5.048-5.047a.25.25 0 01.344-.009l4.298 3.889v.917a.25.25 0 01-.25.25zm1.75-.25V2.75A1.75 1.75 0 0014.25 1H1.75A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25zM5.5 6a.5.5 0 11-1 0 .5.5 0 011 0zM7 6a2 2 0 11-4 0 2 2 0 014 0z" fill-rule="evenodd">
            </path>
           </svg>
           Image
          </a>
          <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-9">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul class="current">
           <li class="toctree-l2">
            <a class="reference internal" href="../image2image/">
             Search Similar Images
            </a>
           </li>
           <li class="toctree-l2 current current-page">
            <a class="current reference internal" href="#">
             Search Image from Text via CLIP model
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../small-images-inside-big-images/">
             Find Small Images Inside Large Images
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../video/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-device-camera-video" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M16 3.75a.75.75 0 00-1.136-.643L11 5.425V4.75A1.75 1.75 0 009.25 3h-7.5A1.75 1.75 0 000 4.75v6.5C0 12.216.784 13 1.75 13h7.5A1.75 1.75 0 0011 11.25v-.675l3.864 2.318A.75.75 0 0016 12.25v-8.5zm-5 5.075l3.5 2.1v-5.85l-3.5 2.1v1.65zM9.5 6.75v-2a.25.25 0 00-.25-.25h-7.5a.25.25 0 00-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-4.5z" fill-rule="evenodd">
            </path>
           </svg>
           Video
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-10">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/video-qa/">
             Question-Answering on in-Video Content
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/video-search/">
             Search in-Video Visual Content via Text
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../audio/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-unmute" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M7.563 2.069A.75.75 0 018 2.75v10.5a.75.75 0 01-1.238.57L3.472 11H1.75A1.75 1.75 0 010 9.25v-2.5C0 5.784.784 5 1.75 5h1.723l3.289-2.82a.75.75 0 01.801-.111zM6.5 4.38L4.238 6.319a.75.75 0 01-.488.181h-2a.25.25 0 00-.25.25v2.5c0 .138.112.25.25.25h2a.75.75 0 01.488.18L6.5 11.62V4.38zm6.096-2.038a.75.75 0 011.06 0 8 8 0 010 11.314.75.75 0 01-1.06-1.06 6.5 6.5 0 000-9.193.75.75 0 010-1.06v-.001zm-1.06 2.121a.75.75 0 10-1.061 1.061 3.5 3.5 0 010 4.95.75.75 0 101.06 1.06 5 5 0 000-7.07l.001-.001z" fill-rule="evenodd">
            </path>
           </svg>
           Audio
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-11">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../audio/similar-audio-search/">
             Search Similar Audios
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../mesh/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-package" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z" fill-rule="evenodd">
            </path>
           </svg>
           3D Mesh
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-12">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../mesh/mesh-search/">
             Search Similar 3D Meshes
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../tabular/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-table" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v3.585a.746.746 0 010 .83v8.085A1.75 1.75 0 0114.25 16H6.309a.748.748 0 01-1.118 0H1.75A1.75 1.75 0 010 14.25V6.165a.746.746 0 010-.83V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z" fill-rule="evenodd">
            </path>
           </svg>
           Table
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-13">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../tabular/filter-via-neural-search/">
             Filter Table Rows by Attributes
            </a>
           </li>
          </ul>
         </li>
        </ul>
        <p class="caption" role="heading">
         <span class="caption-text">
          Advanced
         </span>
        </p>
        <ul>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../advanced/hub/">
           Share Executors via Hub
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-14">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/hub/hub-portal/">
             Hub Portal
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/hub/create-hub-executor/">
             Create Executor
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/hub/push-executor/">
             Publish Executor
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/hub/use-hub-executor/">
             Use Hub Executor
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/hub/executor-best-practices/">
             Best Practices
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../tutorials/master-executor/">
             Master Executor: from Zero to Hub
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../advanced/daemon/">
           Remote Executors and Flows via JinaD
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-15">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/jinad-server/">
             JinaD Server
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/jinad-client/">
             JinaD Client
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/remote-executors/">
             Remote Executors
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/workspace/">
             Workspace
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/remote-flows/">
             Remote Flow
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/stream-remote-logs/">
             Remote Logs
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/daemon/development-using-jinad/">
             JinaD Development Guides
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../advanced/experimental/">
           <svg aria-hidden="true" class="sd-octicon sd-octicon-beaker" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
            <path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458L5 5.782zM9.5 2.5h-3V6a.75.75 0 01-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 019.5 6V2.5zm-6.9 9.847L3.775 10.5h8.45l1.175 1.847a.75.75 0 01-.633 1.153H3.233a.75.75 0 01-.633-1.153z" fill-rule="evenodd">
            </path>
           </svg>
           Experimental Features
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-16">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/experimental/kubernetes/">
             Jina on Kubernetes
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../advanced/experimental/indexers/">
             Indexers on Jina Hub
            </a>
           </li>
          </ul>
         </li>
        </ul>
        <p class="caption" role="heading">
         <span class="caption-text">
          API Reference
         </span>
        </p>
        <ul>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../api/jina/">
           jina package
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-17">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.clients/">
             jina.clients package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-18">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.clients.base/">
               jina.clients.base package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-19">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.base.grpc/">
                 jina.clients.base.grpc module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.base.helper/">
                 jina.clients.base.helper module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.base.http/">
                 jina.clients.base.http module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.base.websocket/">
                 jina.clients.base.websocket module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.clients.request/">
               jina.clients.request package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-20">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.request.asyncio/">
                 jina.clients.request.asyncio module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.clients.request.helper/">
                 jina.clients.request.helper module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.clients.grpc/">
               jina.clients.grpc module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.clients.helper/">
               jina.clients.helper module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.clients.http/">
               jina.clients.http module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.clients.mixin/">
               jina.clients.mixin module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.clients.websocket/">
               jina.clients.websocket module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.executors/">
             jina.executors package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-21">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.executors.decorators/">
               jina.executors.decorators module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.executors.metas/">
               jina.executors.metas module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.flow/">
             jina.flow package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-22">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.flow.asyncio/">
               jina.flow.asyncio module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.flow.base/">
               jina.flow.base module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.flow.builder/">
               jina.flow.builder module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.helloworld/">
             jina.helloworld package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-23">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.helloworld.chatbot/">
               jina.helloworld.chatbot package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-24">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.chatbot.app/">
                 jina.helloworld.chatbot.app module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.chatbot.my_executors/">
                 jina.helloworld.chatbot.my_executors module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.helloworld.fashion/">
               jina.helloworld.fashion package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-25">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.fashion.app/">
                 jina.helloworld.fashion.app module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.fashion.helper/">
                 jina.helloworld.fashion.helper module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.fashion.my_executors/">
                 jina.helloworld.fashion.my_executors module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.helloworld.multimodal/">
               jina.helloworld.multimodal package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-26">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.multimodal.app/">
                 jina.helloworld.multimodal.app module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.helloworld.multimodal.my_executors/">
                 jina.helloworld.multimodal.my_executors module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.helloworld.fork/">
               jina.helloworld.fork module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.hubble/">
             jina.hubble package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-27">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.hubble.helper/">
               jina.hubble.helper module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.hubble.hubapi/">
               jina.hubble.hubapi module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.hubble.hubio/">
               jina.hubble.hubio module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.jaml/">
             jina.jaml package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-28">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.jaml.parsers/">
               jina.jaml.parsers package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-29">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.jaml.parsers.default/">
                 jina.jaml.parsers.default package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-30">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.jaml.parsers.default.v1/">
                   jina.jaml.parsers.default.v1 module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.jaml.parsers.executor/">
                 jina.jaml.parsers.executor package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-31">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.jaml.parsers.executor.legacy/">
                   jina.jaml.parsers.executor.legacy module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.jaml.parsers.flow/">
                 jina.jaml.parsers.flow package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-32">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.jaml.parsers.flow.legacy/">
                   jina.jaml.parsers.flow.legacy module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.jaml.parsers.flow.v1/">
                   jina.jaml.parsers.flow.v1 module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.jaml.parsers.base/">
                 jina.jaml.parsers.base module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.jaml.helper/">
               jina.jaml.helper module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.logging/">
             jina.logging package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-33">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.logging.formatter/">
               jina.logging.formatter module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.logging.logger/">
               jina.logging.logger module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.logging.predefined/">
               jina.logging.predefined module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.logging.profile/">
               jina.logging.profile module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.math/">
             jina.math package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-34">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.math.distance/">
               jina.math.distance package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-35">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.math.distance.numpy/">
                 jina.math.distance.numpy module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.math.distance.paddle/">
                 jina.math.distance.paddle module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.math.distance.tensorflow/">
                 jina.math.distance.tensorflow module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.math.distance.torch/">
                 jina.math.distance.torch module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.math.dimensionality_reduction/">
               jina.math.dimensionality_reduction module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.math.evaluation/">
               jina.math.evaluation module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.math.helper/">
               jina.math.helper module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.optimizers/">
             jina.optimizers package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-36">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.optimizers.discovery/">
               jina.optimizers.discovery module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.optimizers.flow_runner/">
               jina.optimizers.flow_runner module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.optimizers.parameters/">
               jina.optimizers.parameters module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.parsers/">
             jina.parsers package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-37">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.parsers.hubble/">
               jina.parsers.hubble package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-38">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.hubble.new/">
                 jina.parsers.hubble.new module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.hubble.pull/">
                 jina.parsers.hubble.pull module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.hubble.push/">
                 jina.parsers.hubble.push module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.parsers.peapods/">
               jina.parsers.peapods package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-39">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes/">
                 jina.parsers.peapods.runtimes package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-40">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.container/">
                   jina.parsers.peapods.runtimes.container module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.distributed/">
                   jina.parsers.peapods.runtimes.distributed module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.remote/">
                   jina.parsers.peapods.runtimes.remote module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.zed/">
                   jina.parsers.peapods.runtimes.zed module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.parsers.peapods.runtimes.zmq/">
                   jina.parsers.peapods.runtimes.zmq module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.peapods.base/">
                 jina.parsers.peapods.base module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.peapods.pea/">
                 jina.parsers.peapods.pea module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.parsers.peapods.pod/">
                 jina.parsers.peapods.pod module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.base/">
               jina.parsers.base module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.client/">
               jina.parsers.client module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.deprecated/">
               jina.parsers.deprecated module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.export_api/">
               jina.parsers.export_api module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.flow/">
               jina.parsers.flow module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.helloworld/">
               jina.parsers.helloworld module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.helper/">
               jina.parsers.helper module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.optimizer/">
               jina.parsers.optimizer module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.parsers.ping/">
               jina.parsers.ping module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.peapods/">
             jina.peapods package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-41">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.peapods.grpc/">
               jina.peapods.grpc package
              </a>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.peapods.peas/">
               jina.peapods.peas package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-42">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.peas.helper/">
                 jina.peapods.peas.helper module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.peapods.pods/">
               jina.peapods.pods package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-43">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.peapods.pods.k8slib/">
                 jina.peapods.pods.k8slib package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-44">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.pods.k8slib.kubernetes_client/">
                   jina.peapods.pods.k8slib.kubernetes_client module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.pods.k8slib.kubernetes_deployment/">
                   jina.peapods.pods.k8slib.kubernetes_deployment module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.pods.k8slib.kubernetes_tools/">
                   jina.peapods.pods.k8slib.kubernetes_tools module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.pods.compound/">
                 jina.peapods.pods.compound module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.pods.factory/">
                 jina.peapods.pods.factory module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.pods.k8s/">
                 jina.peapods.pods.k8s module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.peapods.runtimes/">
               jina.peapods.runtimes package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-45">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.container/">
                 jina.peapods.runtimes.container package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-46">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.container.helper/">
                   jina.peapods.runtimes.container.helper module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway/">
                 jina.peapods.runtimes.gateway package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-47">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.grpc/">
                   jina.peapods.runtimes.gateway.grpc package
                  </a>
                 </li>
                 <li class="toctree-l5 has-children">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http/">
                   jina.peapods.runtimes.gateway.http package
                  </a>
                  <input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/>
                  <label for="toctree-checkbox-48">
                   <div class="visually-hidden">
                    Toggle child pages in navigation
                   </div>
                   <i class="icon">
                    <svg>
                     <use href="#svg-arrow-right">
                     </use>
                    </svg>
                   </i>
                  </label>
                  <ul>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http.app/">
                     jina.peapods.runtimes.gateway.http.app module
                    </a>
                   </li>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.http.models/">
                     jina.peapods.runtimes.gateway.http.models module
                    </a>
                   </li>
                  </ul>
                 </li>
                 <li class="toctree-l5 has-children">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.websocket/">
                   jina.peapods.runtimes.gateway.websocket package
                  </a>
                  <input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/>
                  <label for="toctree-checkbox-49">
                   <div class="visually-hidden">
                    Toggle child pages in navigation
                   </div>
                   <i class="icon">
                    <svg>
                     <use href="#svg-arrow-right">
                     </use>
                    </svg>
                   </i>
                  </label>
                  <ul>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.peapods.runtimes.gateway.websocket.app/">
                     jina.peapods.runtimes.gateway.websocket.app module
                    </a>
                   </li>
                  </ul>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.grpc/">
                 jina.peapods.runtimes.grpc package
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.jinad/">
                 jina.peapods.runtimes.jinad package
                </a>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.request_handlers/">
                 jina.peapods.runtimes.request_handlers package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-50">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.request_handlers.data_request_handler/">
                   jina.peapods.runtimes.request_handlers.data_request_handler module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq/">
                 jina.peapods.runtimes.zmq package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-51">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq.asyncio/">
                   jina.peapods.runtimes.zmq.asyncio module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.peapods.runtimes.zmq.zed/">
                   jina.peapods.runtimes.zmq.zed module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.runtimes.base/">
                 jina.peapods.runtimes.base module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.peapods.stream/">
               jina.peapods.stream package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-52">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.stream.base/">
                 jina.peapods.stream.base module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.stream.client/">
                 jina.peapods.stream.client module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.stream.gateway/">
                 jina.peapods.stream.gateway module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.peapods.stream.helper/">
                 jina.peapods.stream.helper module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.peapods.zmq/">
               jina.peapods.zmq package
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.peapods.networking/">
               jina.peapods.networking module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.proto/">
             jina.proto package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-53">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.proto.jina_pb2/">
               jina.proto.jina_pb2 module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.proto.jina_pb2_grpc/">
               jina.proto.jina_pb2_grpc module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.proto.serializer/">
               jina.proto.serializer module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.schemas/">
             jina.schemas package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-54">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.schemas.executor/">
               jina.schemas.executor module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.schemas.flow/">
               jina.schemas.flow module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.schemas.helper/">
               jina.schemas.helper module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.schemas.meta/">
               jina.schemas.meta module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.schemas.pod/">
               jina.schemas.pod module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2 has-children">
            <a class="reference internal" href="../../../api/jina.types/">
             jina.types package
            </a>
            <input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/>
            <label for="toctree-checkbox-55">
             <div class="visually-hidden">
              Toggle child pages in navigation
             </div>
             <i class="icon">
              <svg>
               <use href="#svg-arrow-right">
               </use>
              </svg>
             </i>
            </label>
            <ul>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.arrays/">
               jina.types.arrays package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-56">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.types.arrays.memmap/">
                 jina.types.arrays.memmap package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-57">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.memmap.bpm/">
                   jina.types.arrays.memmap.bpm module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.types.arrays.mixins/">
                 jina.types.arrays.mixins package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-58">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5 has-children">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.io/">
                   jina.types.arrays.mixins.io package
                  </a>
                  <input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/>
                  <label for="toctree-checkbox-59">
                   <div class="visually-hidden">
                    Toggle child pages in navigation
                   </div>
                   <i class="icon">
                    <svg>
                     <use href="#svg-arrow-right">
                     </use>
                    </svg>
                   </i>
                  </label>
                  <ul>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.types.arrays.mixins.io.binary/">
                     jina.types.arrays.mixins.io.binary module
                    </a>
                   </li>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.types.arrays.mixins.io.common/">
                     jina.types.arrays.mixins.io.common module
                    </a>
                   </li>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.types.arrays.mixins.io.csv/">
                     jina.types.arrays.mixins.io.csv module
                    </a>
                   </li>
                   <li class="toctree-l6">
                    <a class="reference internal" href="../../../api/jina.types.arrays.mixins.io.json/">
                     jina.types.arrays.mixins.io.json module
                    </a>
                   </li>
                  </ul>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.content/">
                   jina.types.arrays.mixins.content module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.empty/">
                   jina.types.arrays.mixins.empty module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.evaluation/">
                   jina.types.arrays.mixins.evaluation module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.getattr/">
                   jina.types.arrays.mixins.getattr module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.group/">
                   jina.types.arrays.mixins.group module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.magic/">
                   jina.types.arrays.mixins.magic module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.match/">
                   jina.types.arrays.mixins.match module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.plot/">
                   jina.types.arrays.mixins.plot module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.sample/">
                   jina.types.arrays.mixins.sample module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.text/">
                   jina.types.arrays.mixins.text module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.arrays.mixins.traverse/">
                   jina.types.arrays.mixins.traverse module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.arrays.chunk/">
                 jina.types.arrays.chunk module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.arrays.document/">
                 jina.types.arrays.document module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.arrays.match/">
                 jina.types.arrays.match module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.arrays.types/">
                 jina.types.arrays.types module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.document/">
               jina.types.document package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-60">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4 has-children">
                <a class="reference internal" href="../../../api/jina.types.document.mixins/">
                 jina.types.document.mixins package
                </a>
                <input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/>
                <label for="toctree-checkbox-61">
                 <div class="visually-hidden">
                  Toggle child pages in navigation
                 </div>
                 <i class="icon">
                  <svg>
                   <use href="#svg-arrow-right">
                   </use>
                  </svg>
                 </i>
                </label>
                <ul>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.attribute/">
                   jina.types.document.mixins.attribute module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.audio/">
                   jina.types.document.mixins.audio module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.buffer/">
                   jina.types.document.mixins.buffer module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.content/">
                   jina.types.document.mixins.content module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.convert/">
                   jina.types.document.mixins.convert module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.dump/">
                   jina.types.document.mixins.dump module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.helper/">
                   jina.types.document.mixins.helper module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.image/">
                   jina.types.document.mixins.image module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.match/">
                   jina.types.document.mixins.match module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.mesh/">
                   jina.types.document.mixins.mesh module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.plot/">
                   jina.types.document.mixins.plot module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.text/">
                   jina.types.document.mixins.text module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.version/">
                   jina.types.document.mixins.version module
                  </a>
                 </li>
                 <li class="toctree-l5">
                  <a class="reference internal" href="../../../api/jina.types.document.mixins.video/">
                   jina.types.document.mixins.video module
                  </a>
                 </li>
                </ul>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.document.generators/">
                 jina.types.document.generators module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.document.graph/">
                 jina.types.document.graph module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.document.helper/">
                 jina.types.document.helper module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.message/">
               jina.types.message package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-62">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.message.common/">
                 jina.types.message.common module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.types.ndarray/">
               jina.types.ndarray package
              </a>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.request/">
               jina.types.request package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-63">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.request.control/">
                 jina.types.request.control module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.request.data/">
                 jina.types.request.data module
                </a>
               </li>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.request.mixin/">
                 jina.types.request.mixin module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.routing/">
               jina.types.routing package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-64">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.routing.table/">
                 jina.types.routing.table module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3 has-children">
              <a class="reference internal" href="../../../api/jina.types.score/">
               jina.types.score package
              </a>
              <input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/>
              <label for="toctree-checkbox-65">
               <div class="visually-hidden">
                Toggle child pages in navigation
               </div>
               <i class="icon">
                <svg>
                 <use href="#svg-arrow-right">
                 </use>
                </svg>
               </i>
              </label>
              <ul>
               <li class="toctree-l4">
                <a class="reference internal" href="../../../api/jina.types.score.map/">
                 jina.types.score.map module
                </a>
               </li>
              </ul>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.types.list/">
               jina.types.list module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.types.mixin/">
               jina.types.mixin module
              </a>
             </li>
             <li class="toctree-l3">
              <a class="reference internal" href="../../../api/jina.types.struct/">
               jina.types.struct module
              </a>
             </li>
            </ul>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../api/jina.checker/">
             jina.checker module
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../api/jina.enums/">
             jina.enums module
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../api/jina.excepts/">
             jina.excepts module
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../api/jina.helper/">
             jina.helper module
            </a>
           </li>
           <li class="toctree-l2">
            <a class="reference internal" href="../../../api/jina.importer/">
             jina.importer module
            </a>
           </li>
          </ul>
         </li>
         <li class="toctree-l1">
          <a class="reference internal" href="../../../cli/">
           Jina Command-Line Interface
          </a>
         </li>
         <li class="toctree-l1 has-children">
          <a class="reference internal" href="../../../proto/">
           Jina Protobuf Specification
          </a>
          <input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/>
          <label for="toctree-checkbox-66">
           <div class="visually-hidden">
            Toggle child pages in navigation
           </div>
           <i class="icon">
            <svg>
             <use href="#svg-arrow-right">
             </use>
            </svg>
           </i>
          </label>
          <ul class="simple">
          </ul>
         </li>
        </ul>
        <p class="caption" role="heading">
         <span class="caption-text">
          Ecosystem
         </span>
        </p>
        <ul>
         <li class="toctree-l1">
          <a class="reference internal" href="#">
           <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/search-light.svg"/>
           <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/search-dark.svg"/>
           Jina
          </a>
         </li>
         <li class="toctree-l1">
          <a class="reference external" href="https://hub.jina.ai">
           <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/hub-light.svg"/>
           <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/hub-dark.svg"/>
           Jina Hub
          </a>
         </li>
         <li class="toctree-l1">
          <a class="reference external" href="https://finetuner.jina.ai">
           <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/finetuner-light.svg"/>
           <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/finetuner-dark.svg"/>
           Finetuner
          </a>
         </li>
        </ul>
       </div>
      </div>
     </div>
    </div>
   </aside>
   <div class="main">
    <div class="content">
     <article role="main">
      <div class="content-icon-container">
       <div class="theme-toggle-container theme-toggle-content">
        <button class="theme-toggle">
         <div class="visually-hidden">
          Toggle Light / Dark / Auto color theme
         </div>
         <svg class="theme-icon-when-auto">
          <use href="#svg-sun-half">
          </use>
         </svg>
         <svg class="theme-icon-when-dark">
          <use href="#svg-moon">
          </use>
         </svg>
         <svg class="theme-icon-when-light">
          <use href="#svg-sun">
          </use>
         </svg>
        </button>
       </div>
       <label class="toc-overlay-icon toc-content-icon" for="__toc">
        <div class="visually-hidden">
         Toggle table of contents sidebar
        </div>
        <i class="icon">
         <svg>
          <use href="#svg-toc">
          </use>
         </svg>
        </i>
       </label>
      </div>
      <section class="tex2jax_ignore mathjax_ignore" id="search-image-from-text-via-clip-model">
       <h1>
        Search Image from Text via CLIP model
        <a class="headerlink" href="#search-image-from-text-via-clip-model" title="Permalink to this headline">
         ¶
        </a>
       </h1>
       <p>
        In this tutorial, we will create an image search system that retrieves images based on short text descriptions as query.
       </p>
       <p>
        The interest behind this is that in regular search, image description or meta data describing the content of the image needs to be indexed first before retrieving the images via text query. This can be expensive because you need a person to write that description and also information about image content is not always available.
       </p>
       <p>
        We need to look for another solution! What if we can directly compare text with images?
       </p>
       <p>
        To do so, we need to figure out a way to match images and text. One way is finding related images with similar semantics to the query text. This requires us to represent both images and query text in the same embedding space to be able to do the matching. In this case, pre-trained cross-modal models can help us out.
       </p>
       <p>
        For example when we write the word “dog” in query we want to be able to retrieve pictures with a dog solely by using the embeddings similarity.
       </p>
       <div class="admonition tip">
        <p class="admonition-title">
         Tip
        </p>
        <p>
         The full source code of this tutorial is available in this
         <a class="reference external" href="https://colab.research.google.com/github/jina-ai/workshops/blob/docs-add-text-to-image-notebook/text2image/Image_Search_via_Text.ipynb">
          Google Colab notebook
         </a>
        </p>
       </div>
       <p>
        Now that we understand the problem and we have an idea on how to fix it, let’s try to imagine what the solution would look like:
       </p>
       <ol class="simple">
        <li>
         <p>
          We have a bunch of images with no text description about the content.
         </p>
        </li>
        <li>
         <p>
          We use a model to create an embedding that represents those images.
         </p>
        </li>
        <li>
         <p>
          Now we will index and save our embeddings which we will call Documents inside a workspace folder.
         </p>
        </li>
       </ol>
       <p>
        This is what we call the index Flow.
       </p>
       <figure class="align-center">
        <img alt="../../../_images/index_flow_text2image.svg" src="../../../_images/index_flow_text2image.svg"/>
       </figure>
       <p>
        Now to search for an image using text we do the following
       </p>
       <ol class="simple">
        <li>
         <p>
          We embed the query text into the same embedding space as the image.
         </p>
        </li>
        <li>
         <p>
          We compute similarity between the query embedding and previously saved embeddings.
         </p>
        </li>
        <li>
         <p>
          We return the best results.
         </p>
        </li>
       </ol>
       <p>
        This is our query Flow.
       </p>
       <figure class="align-center">
        <img alt="../../../_images/query_flow_text2image.svg" src="../../../_images/query_flow_text2image.svg"/>
       </figure>
       <p>
        If we had to build this from scratch, it would take a long time to build these Flows. Luckily we can leverage Jina’s tools such as Executors, Documents and Flows
and build such a system easily.
       </p>
       <section id="pre-requisites">
        <h2>
         Pre-requisites
         <a class="headerlink" href="#pre-requisites" title="Permalink to this headline">
          ¶
         </a>
        </h2>
        <p>
         Before we begin building our Flow we need to do a few things.
        </p>
        <ul class="simple">
         <li>
          <p>
           Install the following dependencies.
          </p>
         </li>
        </ul>
        <div class="highlight-shell notranslate">
         <div class="highlight">
          <pre><span></span>pip install Pillow jina <span class="nv">torch</span><span class="o">==</span><span class="m">1</span>.9.0 <span class="nv">torchvision</span><span class="o">==</span><span class="m">0</span>.10.0 <span class="nv">transformers</span><span class="o">==</span><span class="m">4</span>.9.1 matplotlib jina-commons@git+https://github.com/jina-ai/jina-commons.git#egg<span class="o">=</span>jina-commons
</pre>
         </div>
        </div>
        <ul class="simple">
         <li>
          <p>
           Download
           <a class="reference external" href="https://open-images.s3.eu-central-1.amazonaws.com/data.zip">
            the dataset
           </a>
           and unzip it.
          </p>
         </li>
        </ul>
        <p>
         You can use the link or the following commands:
        </p>
        <div class="highlight-shell notranslate">
         <div class="highlight">
          <pre><span></span>wget https://open-images.s3.eu-central-1.amazonaws.com/data.zip
unzip data.zip
</pre>
         </div>
        </div>
        <p>
         You should find two folders after unzipping:
        </p>
        <ul class="simple">
         <li>
          <p>
           images: this folder contains the images that we will index.
          </p>
         </li>
         <li>
          <p>
           query: this folder contains small images that we will use as search queries.
          </p>
         </li>
        </ul>
       </section>
       <section id="building-executors">
        <h2>
         Building Executors
         <a class="headerlink" href="#building-executors" title="Permalink to this headline">
          ¶
         </a>
        </h2>
        <p>
         In this section, we will start developing the necessary Executors, for both query and index Flows.
        </p>
        <p>
         To encode images and query text into the same space, we choose the pre-trained
         <a class="reference external" href="https://github.com/openai/CLIP">
          CLIP model
         </a>
         from OpenAI.
        </p>
        <div class="info admonition">
         <p class="admonition-title">
          What is CLIP?
         </p>
         <p>
          The CLIP model is trained to learn visual concepts from natural languages. This is done using text snippets and image pairs across the internet. In the original CLIP paper, the model performs Zero Shot Learning by encoding text labels and images with separate models. Later the similarities between the encoded vectors are calculated.
         </p>
        </div>
        <p>
         In this tutorial, we use the image and the text encoding parts from CLIP to calculate the embeddings.
        </p>
        <div class="info admonition">
         <p class="admonition-title">
          How does CLIP help?
         </p>
         <p>
          Given a short text
          <code class="docutils literal notranslate">
           <span class="pre">
            this
           </span>
           <span class="pre">
            is
           </span>
           <span class="pre">
            a
           </span>
           <span class="pre">
            dog
           </span>
          </code>
          , the CLIP text model can encode it into a vector. Meanwhile, the CLIP image model can encode one image of a dog and one image of a cat into the same vector space.
We can further find the distance between the text vector and the vectors of the dog image is smaller than that between the same text and an image of a cat.
         </p>
        </div>
        <section id="clipimageencoder">
         <h3>
          <strong>
           CLIPImageEncoder
          </strong>
          <a class="headerlink" href="#clipimageencoder" title="Permalink to this headline">
           ¶
          </a>
         </h3>
         <p>
          This encoder encodes an image into embeddings using the CLIP model.
We want an Executor that loads the CLIP model and encodes images during the index Flow.
         </p>
         <p>
          Our Executor should:
         </p>
         <ul class="simple">
          <li>
           <p>
            Support both
            <strong>
             GPU
            </strong>
            and
            <strong>
             CPU
            </strong>
            : That’s why we will provision the
            <code class="docutils literal notranslate">
             <span class="pre">
              device
             </span>
            </code>
            parameter and use it when encoding.
           </p>
          </li>
          <li>
           <p>
            Be able to process Documents in batches in order to use our resources effectively: To do so, we will use the
parameter
            <code class="docutils literal notranslate">
             <span class="pre">
              batch_size
             </span>
            </code>
           </p>
          </li>
         </ul>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>

<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="n">Executor</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">jina.logging.logger</span> <span class="kn">import</span> <span class="n">JinaLogger</span>
<span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">CLIPFeatureExtractor</span><span class="p">,</span> <span class="n">CLIPModel</span>

<span class="k">class</span> <span class="nc">CLIPImageEncoder</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="sd">"""Encode image into embeddings using the CLIP model."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pretrained_model_name_or_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"openai/clip-vit-base-patch32"</span><span class="p">,</span>
        <span class="n">base_feature_extractor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">use_default_preprocessing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">device</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"cpu"</span><span class="p">,</span>
        <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
        <span class="n">traversal_paths</span><span class="p">:</span> <span class="n">Tuple</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"r"</span><span class="p">,),</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traversal_paths</span> <span class="o">=</span> <span class="n">traversal_paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pretrained_model_name_or_path</span> <span class="o">=</span> <span class="n">pretrained_model_name_or_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_default_preprocessing</span> <span class="o">=</span> <span class="n">use_default_preprocessing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_feature_extractor</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">base_feature_extractor</span> <span class="ow">or</span> <span class="n">pretrained_model_name_or_path</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span> <span class="o">=</span> <span class="n">CLIPFeatureExtractor</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">base_feature_extractor</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">CLIPModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pretrained_model_name_or_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">)</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>

    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DocumentArray</span><span class="p">],</span> <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      
        <span class="k">if</span> <span class="n">docs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">traversal_paths</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"traversal_paths"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">traversal_paths</span><span class="p">)</span>
        <span class="n">batch_size</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"batch_size"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="n">document_batches_generator</span> <span class="o">=</span>  <span class="n">docs</span><span class="o">.</span><span class="n">traverse_flat</span><span class="p">(</span><span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'traversal_paths'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">traversal_paths</span><span class="p">))</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">inference_mode</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">batch_docs</span> <span class="ow">in</span> <span class="n">document_batches_generator</span><span class="p">:</span>
                <span class="n">blob_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">blob</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">batch_docs</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_default_preprocessing</span><span class="p">:</span>
                    <span class="n">tensor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_input_features</span><span class="p">(</span><span class="n">blob_batch</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">tensor</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">"pixel_values"</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span>
                            <span class="n">blob_batch</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span>
                        <span class="p">)</span>
                    <span class="p">}</span>

                <span class="n">embeddings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">get_image_features</span><span class="p">(</span><span class="o">**</span><span class="n">tensor</span><span class="p">)</span>
                <span class="n">embeddings</span> <span class="o">=</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">embed</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">batch_docs</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">):</span>
                    <span class="n">doc</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">embed</span>

    <span class="k">def</span> <span class="nf">_generate_input_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">images</span><span class="p">):</span>
        <span class="n">input_tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessor</span><span class="p">(</span>
            <span class="n">images</span><span class="o">=</span><span class="n">images</span><span class="p">,</span>
            <span class="n">return_tensors</span><span class="o">=</span><span class="s2">"pt"</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">input_tokens</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">device</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_tokens</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">input_tokens</span>
</pre>
          </div>
         </div>
        </section>
        <section id="cliptextencoder">
         <h3>
          <strong>
           CLIPTextEncoder
          </strong>
          <a class="headerlink" href="#cliptextencoder" title="Permalink to this headline">
           ¶
          </a>
         </h3>
         <p>
          This encoder encodes a text into embeddings using the CLIP model.
We want an Executor that loads the CLIP model and encodes it during the query Flow.
         </p>
         <p>
          Our Executor should:
         </p>
         <ul class="simple">
          <li>
           <p>
            Support both
            <strong>
             GPU
            </strong>
            and
            <strong>
             CPU
            </strong>
            : That’s why we will provision the
            <code class="docutils literal notranslate">
             <span class="pre">
              device
             </span>
            </code>
            parameter and use it when encoding.
           </p>
          </li>
          <li>
           <p>
            Be able to process Documents in batches in order to use our resources effectively: To do so, we will use the
parameter
            <code class="docutils literal notranslate">
             <span class="pre">
              batch_size
             </span>
            </code>
           </p>
          </li>
         </ul>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span>  <span class="n">CLIPTokenizer</span>

<span class="k">class</span> <span class="nc">CLIPTextEncoder</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="sd">"""Encode text into embeddings using the CLIP model."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pretrained_model_name_or_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">'openai/clip-vit-base-patch32'</span><span class="p">,</span>
        <span class="n">base_tokenizer_model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">77</span><span class="p">,</span>
        <span class="n">device</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">'cpu'</span><span class="p">,</span>
        <span class="n">traversal_paths</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'r'</span><span class="p">],</span>
        <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traversal_paths</span> <span class="o">=</span> <span class="n">traversal_paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pretrained_model_name_or_path</span> <span class="o">=</span> <span class="n">pretrained_model_name_or_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_tokenizer_model</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">base_tokenizer_model</span> <span class="ow">or</span> <span class="n">pretrained_model_name_or_path</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span> <span class="o">=</span> <span class="n">max_length</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">CLIPTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_tokenizer_model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">CLIPModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pretrained_model_name_or_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>

    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DocumentArray</span><span class="p">],</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">docs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">docs_batch</span> <span class="ow">in</span> <span class="n">docs</span><span class="o">.</span><span class="n">traverse_flat</span><span class="p">(</span><span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'traversal_paths'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">traversal_paths</span><span class="p">))</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'batch_size'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">text_batch</span> <span class="o">=</span> <span class="n">docs_batch</span><span class="o">.</span><span class="n">get_attributes</span><span class="p">(</span><span class="s1">'text'</span><span class="p">)</span>

            <span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">inference_mode</span><span class="p">():</span>
                <span class="n">input_tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_input_tokens</span><span class="p">(</span><span class="n">text_batch</span><span class="p">)</span>
                <span class="n">embeddings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">get_text_features</span><span class="p">(</span><span class="o">**</span><span class="n">input_tokens</span><span class="p">)</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">embedding</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">docs_batch</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">):</span>
                    <span class="n">doc</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">embedding</span>

    <span class="k">def</span> <span class="nf">_generate_input_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">texts</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>

        <span class="n">input_tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokenizer</span><span class="p">(</span>
            <span class="n">texts</span><span class="p">,</span>
            <span class="n">max_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_length</span><span class="p">,</span>
            <span class="n">padding</span><span class="o">=</span><span class="s1">'longest'</span><span class="p">,</span>
            <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">return_tensors</span><span class="o">=</span><span class="s1">'pt'</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">input_tokens</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">input_tokens</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">input_tokens</span>
</pre>
          </div>
         </div>
        </section>
        <section id="simpleindexer">
         <h3>
          <strong>
           SimpleIndexer
          </strong>
          <a class="headerlink" href="#simpleindexer" title="Permalink to this headline">
           ¶
          </a>
         </h3>
         <p>
          To implement SimpleIndexer, we can leverage Jina’s
          <code class="docutils literal notranslate">
           <span class="pre">
            DocumentArrayMemmap
           </span>
          </code>
          . You can read about this data type
          <a class="reference external" href="https://docs.jina.ai/fundamentals/document/documentarraymemmap-api/">
           here
          </a>
          .
         </p>
         <p>
          Our indexer will create an instance of
          <code class="docutils literal notranslate">
           <span class="pre">
            DocumentArrayMemmap
           </span>
          </code>
          when it’s initialized. We want to store indexed Documents
inside the workspace folder that’s why we pass the
          <code class="docutils literal notranslate">
           <span class="pre">
            workspace
           </span>
          </code>
          attribute of the Executor to
          <code class="docutils literal notranslate">
           <span class="pre">
            DocumentArrayMemmap
           </span>
          </code>
          .
         </p>
         <p>
          To index, we implement the method
          <code class="docutils literal notranslate">
           <span class="pre">
            index
           </span>
          </code>
          which has
          <code class="docutils literal notranslate">
           <span class="pre">
            /index
           </span>
          </code>
          as the endpoint invoked during the index Flow. It’s as simple as extending the received
docs to
          <code class="docutils literal notranslate">
           <span class="pre">
            DocumentArrayMemmap
           </span>
          </code>
          instance.
         </p>
         <p>
          On the other hand, for search, we implement the method
          <code class="docutils literal notranslate">
           <span class="pre">
            search
           </span>
          </code>
          . We bind it to the query Flow using the
          <a class="reference external" href="https://book.pythontips.com/en/latest/decorators.html">
           decorator
          </a>
          <code class="docutils literal notranslate">
           <span class="pre">
            @requests(on='/search')
           </span>
          </code>
          .
In Jina, searching for query Documents can be done by adding the results to the
          <code class="docutils literal notranslate">
           <span class="pre">
            matches
           </span>
          </code>
          attribute of each query
document. Since docs is a
          <code class="docutils literal notranslate">
           <span class="pre">
            DocumentArray
           </span>
          </code>
          we can use method
          <code class="docutils literal notranslate">
           <span class="pre">
            match
           </span>
          </code>
          to match query against the indexed Documents.
Read more about
          <code class="docutils literal notranslate">
           <span class="pre">
            match
           </span>
          </code>
          <a class="reference external" href="https://docs.jina.ai/fundamentals/document/documentarray-api/#matching-documentarray-to-another">
           here
          </a>
          .
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="n">Executor</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">jina.types.arrays.memmap</span> <span class="kn">import</span> <span class="n">DocumentArrayMemmap</span>

<span class="k">class</span> <span class="nc">SimpleIndexer</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A simple indexer that stores all the Document data together,</span>
<span class="sd">    in a DocumentArrayMemmap object</span>
<span class="sd">    To be used as a unified indexer, combining both indexing and searching</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">match_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Initializer function for the simple indexer</span>
<span class="sd">        :param match_args: the arguments to `DocumentArray`'s match function</span>
<span class="sd">        """</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_match_args</span> <span class="o">=</span> <span class="n">match_args</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="n">DocumentArrayMemmap</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">key_length</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'key_length'</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@requests</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">'/index'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">docs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">'DocumentArray'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">"""All Documents to the DocumentArray</span>
<span class="sd">        :param docs: the docs to add</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">docs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">docs</span><span class="p">)</span>

    <span class="nd">@requests</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">'/search'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">docs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">'DocumentArray'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">"""Perform a vector similarity search and retrieve the full Document match</span>
<span class="sd">        :param docs: the Documents to search with</span>
<span class="sd">        :param parameters: the runtime arguments to `DocumentArray`'s match</span>
<span class="sd">        function. They overwrite the original match_args arguments.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">docs</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">match_args</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_match_args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parameters</span><span class="p">:</span>
            <span class="n">match_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>

        <span class="n">match_args</span> <span class="o">=</span> <span class="n">SimpleIndexer</span><span class="o">.</span><span class="n">_filter_parameters</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">match_args</span><span class="p">)</span>

        <span class="n">docs</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="p">,</span> <span class="o">**</span><span class="n">match_args</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_filter_parameters</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">match_args</span><span class="p">):</span>
        <span class="c1"># get only those arguments that exist in .match</span>
        <span class="n">args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">docs</span><span class="o">.</span><span class="n">match</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="n">args</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s1">'self'</span><span class="p">)</span>
        <span class="n">match_args</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">match_args</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">args</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">match_args</span>
</pre>
          </div>
         </div>
        </section>
       </section>
       <section id="building-flows">
        <h2>
         Building Flows
         <a class="headerlink" href="#building-flows" title="Permalink to this headline">
          ¶
         </a>
        </h2>
        <section id="indexing">
         <h3>
          Indexing
          <a class="headerlink" href="#indexing" title="Permalink to this headline">
           ¶
          </a>
         </h3>
         <p>
          Now, after creating Executors, it’s time to use them in order to build an index Flow and index our data.
         </p>
         <section id="building-the-index-flow">
          <h4>
           Building the index Flow
           <a class="headerlink" href="#building-the-index-flow" title="Permalink to this headline">
            ¶
           </a>
          </h4>
          <p>
           We create a Flow object and add Executors one after the other with the right parameters:
          </p>
          <ol class="simple">
           <li>
            <p>
             CLIPImageEncoder: We specify the device.
            </p>
           </li>
           <li>
            <p>
             SimpleIndexer: We need to specify the workspace parameter.
            </p>
           </li>
          </ol>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Flow</span>
<span class="n">flow_index</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span> \
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">CLIPImageEncoder</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"encoder"</span><span class="p">,</span> <span class="n">uses_with</span><span class="o">=</span><span class="p">{</span><span class="s2">"device"</span><span class="p">:</span><span class="n">device</span><span class="p">})</span> \
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">SimpleIndexer</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"indexer"</span><span class="p">,</span> <span class="n">workspace</span><span class="o">=</span><span class="s1">'workspace'</span><span class="p">)</span>
<span class="n">flow_index</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre>
           </div>
          </div>
          <figure class="align-center">
           <img alt="../../../_images/index_flow_text2image.svg" src="../../../_images/index_flow_text2image.svg"/>
          </figure>
          <p>
           Now it’s time to index the dataset that we have downloaded. Actually, we will index images inside the
           <code class="docutils literal notranslate">
            <span class="pre">
             images
            </span>
           </code>
           folder.
This helper function will convert the image files into Documents, create a generator and yields Documents:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="k">def</span> <span class="nf">input_docs</span><span class="p">(</span><span class="n">data_path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s1">'*'</span><span class="p">)):</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s1">'filename'</span><span class="p">:</span> <span class="n">fn</span><span class="p">})</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">load_uri_to_image_blob</span><span class="p">()</span>
        <span class="k">yield</span> <span class="n">doc</span> 
</pre>
           </div>
          </div>
          <p>
           The final step in this section is to send the input Documents to the index Flow. Note that indexing can take a while:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">with</span> <span class="n">flow_index</span><span class="p">:</span>
    <span class="n">flow_index</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">'/index'</span><span class="p">,</span><span class="n">inputs</span><span class="o">=</span><span class="n">input_docs</span><span class="p">(</span><span class="s2">"/content/images"</span><span class="p">),</span> <span class="n">request_size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <div class="highlight-text notranslate">
           <div class="highlight">
            <pre><span></span>Flow@3084[I]:🎉 Flow is ready to use!
🔗 Protocol: 		GRPC
🏠 Local access:	0.0.0.0:33367
🔒 Private network:	172.28.0.2:33367
🌐 Public address:	34.125.186.176:33367
</pre>
           </div>
          </div>
         </section>
        </section>
        <section id="searching">
         <h3>
          Searching
          <a class="headerlink" href="#searching" title="Permalink to this headline">
           ¶
          </a>
         </h3>
         <p>
          Now, let’s build the search Flow and use it to search with sample query images.
         </p>
         <p>
          Our Flow contains the following Executors:
         </p>
         <ol class="simple">
          <li>
           <p>
            CLIPTextEncoder: We specify the device.
           </p>
          </li>
          <li>
           <p>
            SimpleIndexer: We need to specify the workspace parameter.
           </p>
          </li>
         </ol>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="n">flow_search</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">()</span> \
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">CLIPTextEncoder</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"encoder"</span><span class="p">,</span> <span class="n">uses_with</span><span class="o">=</span><span class="p">{</span><span class="s2">"device"</span><span class="p">:</span><span class="n">device</span><span class="p">})</span> \
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">SimpleIndexer</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">"indexer"</span><span class="p">,</span><span class="n">workspace</span><span class="o">=</span><span class="s2">"workspace"</span><span class="p">)</span>
<span class="n">flow_search</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre>
          </div>
         </div>
         <p>
          Query Flow:
         </p>
         <figure class="align-center">
          <img alt="../../../_images/query_flow_text2image.svg" src="../../../_images/query_flow_text2image.svg"/>
         </figure>
         <p>
          We create a helper function to plot our images:
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">show_docs</span><span class="p">(</span><span class="n">docs</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
      <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">blob</span><span class="p">)</span>
      <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
          </div>
         </div>
         <p>
          and one last function to show us the top three matches to our text query:
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="k">def</span> <span class="nf">plot_search_results</span><span class="p">(</span><span class="n">resp</span><span class="p">:</span> <span class="n">Request</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">docs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Query text: </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Matches:'</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">show_docs</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">matches</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
</pre>
          </div>
         </div>
         <p>
          Now we input some text queries which we transform into Documents and here are the results:
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span><span class="k">with</span> <span class="n">flow_search</span><span class="p">:</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">flow_search</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">'/search'</span><span class="p">,</span><span class="n">inputs</span><span class="o">=</span><span class="n">DocumentArray</span><span class="p">([</span>
                    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'dog'</span><span class="p">),</span>
                    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'cat'</span><span class="p">),</span>
                    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">'kids on their bikes'</span><span class="p">),</span>
                <span class="p">]),</span><span class="n">on_done</span><span class="o">=</span><span class="n">plot_search_results</span><span class="p">)</span>
</pre>
          </div>
         </div>
         <p>
          Sample results:
         </p>
         <div class="highlight-text notranslate">
          <div class="highlight">
           <pre><span></span>Query: Dog
Results:
</pre>
          </div>
         </div>
         <figure class="align-center">
          <img alt="../../../_images/dog1.png" src="../../../_images/dog1.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/dog2.png" src="../../../_images/dog2.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/dog3.png" src="../../../_images/dog3.png"/>
         </figure>
         <div class="highlight-text notranslate">
          <div class="highlight">
           <pre><span></span>Query: Cat
Results:
</pre>
          </div>
         </div>
         <figure class="align-center">
          <img alt="../../../_images/cat1.png" src="../../../_images/cat1.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/cat2.png" src="../../../_images/cat2.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/cat3.png" src="../../../_images/cat3.png"/>
         </figure>
         <div class="highlight-text notranslate">
          <div class="highlight">
           <pre><span></span>Query: Kids riding bikes
Results:
</pre>
          </div>
         </div>
         <figure class="align-center">
          <img alt="../../../_images/bike1.png" src="../../../_images/bike1.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/bike2.png" src="../../../_images/bike2.png"/>
         </figure>
         <figure class="align-center">
          <img alt="../../../_images/bike3.png" src="../../../_images/bike3.png"/>
         </figure>
         <p>
          Congratulations! You have built a text-to-image search engine. You can check the full source code
          <a class="reference external" href="https://colab.research.google.com/github/jina-ai/workshops/blob/docs-add-text-to-image-notebook/text2image/Image_Search_via_Text.ipynb">
           here
          </a>
          and experiment with your own text queries.
         </p>
        </section>
       </section>
      </section>
     </article>
     <footer>
      <div class="related-pages">
       <a class="next-page" href="../small-images-inside-big-images/">
        <div class="page-info">
         <div class="context">
          <span>
           Next
          </span>
         </div>
         <div class="title">
          Find Small Images Inside Large Images
         </div>
        </div>
        <svg>
         <use href="#svg-arrow-right">
         </use>
        </svg>
       </a>
       <a class="prev-page" href="../image2image/">
        <svg>
         <use href="#svg-arrow-right">
         </use>
        </svg>
        <div class="page-info">
         <div class="context">
          <span>
           Previous
          </span>
         </div>
         <div class="title">
          Search Similar Images
         </div>
        </div>
       </a>
      </div>
      <div class="related-information sd-d-inline-flex">
       <a href="https://jina.ai">
        Copyright © Jina AI Limited. All rights reserved.
       </a>
       Last updated on Dec 01, 2021.
       <div class="social-btns">
        <a aria-label="GitHub" class="social-btn" href="https://github.com/jina-ai/jina/" rel="noreferrer" target="_blank">
         <i class="fab fa-github">
         </i>
        </a>
        <a aria-label="Slack" class="social-btn" href="https://slack.jina.ai" rel="noreferrer" target="_blank">
         <i class="fab fa-slack">
         </i>
        </a>
        <a aria-label="YouTube" class="social-btn" href="https://youtube.com/c/jina-ai" rel="noreferrer" target="_blank">
         <i class="fab fa-youtube">
         </i>
        </a>
        <a aria-label="Twitter" class="social-btn" href="https://twitter.com/JinaAI_" rel="noreferrer" target="_blank">
         <i class="fab fa-twitter">
         </i>
        </a>
        <a aria-label="LinkedIn" class="social-btn" href="https://www.linkedin.com/company/jinaai/" rel="noreferrer" target="_blank">
         <i class="fab fa-linkedin">
         </i>
        </a>
       </div>
      </div>
     </footer>
    </div>
    <aside class="toc-drawer" id="toc-drawer">
     <div class="toc-sticky toc-scroll">
      <div class="toc-title-container">
       <span class="toc-title">
        Contents
       </span>
      </div>
      <div class="toc-tree-container">
       <div class="toc-tree">
        <ul>
         <li>
          <a class="reference internal" href="#">
           Search Image from Text via CLIP model
          </a>
          <ul>
           <li>
            <a class="reference internal" href="#pre-requisites">
             Pre-requisites
            </a>
           </li>
           <li>
            <a class="reference internal" href="#building-executors">
             Building Executors
            </a>
            <ul>
             <li>
              <a class="reference internal" href="#clipimageencoder">
               <strong>
                CLIPImageEncoder
               </strong>
              </a>
             </li>
             <li>
              <a class="reference internal" href="#cliptextencoder">
               <strong>
                CLIPTextEncoder
               </strong>
              </a>
             </li>
             <li>
              <a class="reference internal" href="#simpleindexer">
               <strong>
                SimpleIndexer
               </strong>
              </a>
             </li>
            </ul>
           </li>
           <li>
            <a class="reference internal" href="#building-flows">
             Building Flows
            </a>
            <ul>
             <li>
              <a class="reference internal" href="#indexing">
               Indexing
              </a>
              <ul>
               <li>
                <a class="reference internal" href="#building-the-index-flow">
                 Building the index Flow
                </a>
               </li>
              </ul>
             </li>
             <li>
              <a class="reference internal" href="#searching">
               Searching
              </a>
             </li>
            </ul>
           </li>
          </ul>
         </li>
        </ul>
       </div>
      </div>
      <details class="jina-doc-bot sd-sphinx-override sd-dropdown sd-card" id="jina-docbot" v-bind:class="{ready: ready}">
       <summary class="sd-summary-title sd-card-header">
        <svg aria-hidden="true" class="sd-octicon sd-octicon-comment-discussion" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
         <path d="M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z" fill-rule="evenodd">
         </path>
        </svg>
        Ask our docs!
        <div class="sd-summary-down docutils">
         <svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-down" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em">
          <path d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z" fill-rule="evenodd">
          </path>
         </svg>
        </div>
        <div class="sd-summary-up docutils">
         <svg aria-hidden="true" class="sd-octicon sd-octicon-chevron-up" height="1.5em" version="1.1" viewbox="0 0 24 24" width="1.5em">
          <path d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z" fill-rule="evenodd">
          </path>
         </svg>
        </div>
       </summary>
       <div class="sd-summary-content docutils">
        <div class="jina-doc-answer">
         <div class="jina-doc-answer-hint" v-if="qa_pairs.length===0">
          <p class="jina-doc-bot-help-text sd-font-weight-bold" v-if="!ready">
           Chat loading...
           <br/>
           <br/>
           You can think of questions while our bot load. Try:
          </p>
          <p class="jina-doc-bot-help-text sd-font-weight-bold hidden-before-ready" v-else="">
           You can ask questions about our docs. Try:
          </p>
          <ul class="example-question simple sd-font-weight-light">
           <li>
            <p>
             Does Jina support Kubernetes?
            </p>
           </li>
           <li>
            <p>
             How can I traverse a nested DocumentArray?
            </p>
           </li>
           <li>
            <p>
             What are the basic concepts in Jina?
            </p>
           </li>
          </ul>
         </div>
         <div class="jina-doc-answer-dialog hidden-before-ready" v-else="">
          <div class="qa-container" v-for="qa in qa_pairs">
           <div class="sd-text-right" v-if="qa.question">
            <div class="talk-bubble question-bubble">
             <div class="talktext">
              <p>
               ${qa.question}
              </p>
             </div>
            </div>
           </div>
           <div class="talk-bubble answer-bubble">
            <div class="talktext">
             <p v-if="qa.answer">
              ${qa.answer.text}
             </p>
             <div v-else="">
              <svg class="loader" height="10" width="40">
               <circle class="dot" cx="10" cy="5" r="3">
               </circle>
               <circle class="dot" cx="20" cy="5" r="3">
               </circle>
               <circle class="dot" cx="30" cy="5" r="3">
               </circle>
              </svg>
             </div>
            </div>
            <a class="answer-reference" href="https://slack.jina.ai" target="_blank" v-if="qa.answer &amp;&amp; is_conn_broken">
             Report
            </a>
            <div class="feedback-tooltip sd-d-flex-row" v-if="qa.answer &amp;&amp; !is_conn_broken &amp;&amp; qa.answer.uri">
             <a :href="root_url + qa.answer.uri" class="answer-reference">
              Source
             </a>
             <div class="sd-d-flex-row">
              <div class="thumb-answer thumbup" style="margin: 0 6px" v-on:click="submit_rating(qa, true)" v-show="qa.rating===null">
               <svg aria-hidden="true" class="sd-octicon sd-octicon-thumbsup" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
                <path d="M8.834.066C7.494-.087 6.5 1.048 6.5 2.25v.5c0 1.329-.647 2.124-1.318 2.614-.328.24-.66.403-.918.508A1.75 1.75 0 002.75 5h-1A1.75 1.75 0 000 6.75v7.5C0 15.216.784 16 1.75 16h1a1.75 1.75 0 001.662-1.201c.525.075 1.067.229 1.725.415.152.043.31.088.475.133 1.154.32 2.54.653 4.388.653 1.706 0 2.97-.153 3.722-1.14.353-.463.537-1.042.668-1.672.118-.56.208-1.243.313-2.033l.04-.306c.25-1.869.265-3.318-.188-4.316a2.418 2.418 0 00-1.137-1.2C13.924 5.085 13.353 5 12.75 5h-1.422l.015-.113c.07-.518.157-1.17.157-1.637 0-.922-.151-1.719-.656-2.3-.51-.589-1.247-.797-2.01-.884zM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.922.922 0 00-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.861 5.861 0 01-1.567.81V13.3zM2.75 6.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25h-1a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25h1z" fill-rule="evenodd">
                </path>
               </svg>
              </div>
              <div class="thumb-answer thumbdown" v-on:click="submit_rating(qa, false)" v-show="qa.rating===null">
               <svg aria-hidden="true" class="sd-octicon sd-octicon-thumbsdown" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
                <path d="M7.083 15.986c1.34.153 2.334-.982 2.334-2.183v-.5c0-1.329.646-2.123 1.317-2.614.329-.24.66-.403.919-.508a1.75 1.75 0 001.514.872h1a1.75 1.75 0 001.75-1.75v-7.5a1.75 1.75 0 00-1.75-1.75h-1a1.75 1.75 0 00-1.662 1.2c-.525-.074-1.068-.228-1.726-.415L9.305.705C8.151.385 6.765.053 4.917.053c-1.706 0-2.97.152-3.722 1.139-.353.463-.537 1.042-.669 1.672C.41 3.424.32 4.108.214 4.897l-.04.306c-.25 1.869-.266 3.318.188 4.316.244.537.622.943 1.136 1.2.495.248 1.066.334 1.669.334h1.422l-.015.112c-.07.518-.157 1.17-.157 1.638 0 .921.151 1.718.655 2.299.512.589 1.248.797 2.011.884zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479a63.914 63.914 0 00-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.921.921 0 00.443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.862 5.862 0 011.568-.809V2.754zm1.75 6.798a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25h1a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25h-1z" fill-rule="evenodd">
                </path>
               </svg>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="jina-doc-bot-controls sd-d-flex-row sd-border-1">
         <textarea :disabled="!ready" :placeholder="'Type your question here'" :readonly="is_busy" autofocus="" class="sd-border-0" disabled="" id="bot-input-question" maxlength="100" placeholder="Just a moment, please ..." rows="3" style="width: 100%" v-model="cur_question" v-on:keyup.enter="submit_q"></textarea>
         <button class="sd-sphinx-override sd-btn sd-text-wrap sd-btn-outline-primary sd-rounded-0 hidden-before-ready" id="bot-input-btn" v-on:click="submit_q" v-show="cur_question.length&gt;0 &amp;&amp; !is_busy">
          <svg aria-hidden="true" class="sd-octicon sd-octicon-paper-airplane" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em">
           <path d="M1.592 2.712L2.38 7.25h4.87a.75.75 0 110 1.5H2.38l-.788 4.538L13.929 8 1.592 2.712zM.989 8L.064 2.68a1.341 1.341 0 011.85-1.462l13.402 5.744a1.13 1.13 0 010 2.076L1.913 14.782a1.341 1.341 0 01-1.85-1.463L.99 8z" fill-rule="evenodd">
           </path>
          </svg>
         </button>
        </div>
        <div class="powered-by">
        </div>
       </div>
      </details>
     </div>
    </aside>
   </div>
  </div>
  <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js">
  </script>
  <script src="../../../_static/jquery.js">
  </script>
  <script src="../../../_static/underscore.js">
  </script>
  <script src="../../../_static/doctools.js">
  </script>
  <script src="../../../_static/scripts/main.js">
  </script>
  <script src="../../../_static/clipboard.min.js">
  </script>
  <script src="../../../_static/copybutton.js">
  </script>
  <script src="../../../_static/tabs.js">
  </script>
  <script src="../../../_static/design-tabs.js">
  </script>
  <script>
   var server_address = 'https://docsbot.jina.ai';
  </script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js">
  </script>
  <script src="../../../_static/docbot.js">
  </script>
  <script src="../../../_static/iframe.js">
  </script>
 </body>
</html>